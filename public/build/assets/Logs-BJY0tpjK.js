import{J as N,b as d,d as a,e as f,u as c,h as L,f as x,g as e,s as p,K as h,L as B,q as g,F as v,i as D,t as i,m as b,k as u,x as m,p as l,N as V}from"./app-R1WeOlpQ.js";import{_ as H}from"./AuthenticatedLayout-CE5IocYa.js";const z={class:"py-8"},F={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},I={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg mb-6"},S={class:"p-6"},T={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},E={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},P={class:"overflow-x-auto"},R={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},U={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},O={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},q={class:"px-6 py-4 whitespace-nowrap"},J={class:"flex items-center"},K={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"},$={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"},G={key:2,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},Q={key:3,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},W={key:4,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},X={key:5,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},Y={class:"px-6 py-4 whitespace-nowrap"},Z={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},ee={class:"text-sm text-gray-500 dark:text-gray-400"},te={class:"px-6 py-4 whitespace-nowrap"},re={class:"text-sm bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded"},ae={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},se={class:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400"},de={key:0,class:"max-w-xs truncate"},oe={key:1},ie=["title"],ne={key:0,class:"p-8 text-center"},le={key:1,class:"bg-white dark:bg-gray-800 px-4 py-3 border-t border-gray-200 dark:border-gray-700 sm:px-6"},ge={class:"flex items-center justify-between"},xe={class:"flex-1 flex justify-between sm:hidden"},ce={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},ye={class:"text-sm text-gray-700 dark:text-gray-300"},ue={class:"font-medium"},me={class:"font-medium"},ke={class:"font-medium"},pe={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px"},he={__name:"Logs",props:{logs:Object,filters:Object},setup(s){const k=s,n=N({search:k.filters?.search||"",action:k.filters?.action||"",license_id:k.filters?.license_id||""}),y=()=>{V.get(route("logs"),n,{preserveState:!0,replace:!0})},w=()=>{n.search="",n.action="",n.license_id="",y()},_=o=>new Date(o).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),A=o=>({verify:"bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-400",created:"bg-green-100 text-green-600 dark:bg-green-900 dark:text-green-400",renewed:"bg-indigo-100 text-indigo-600 dark:bg-indigo-900 dark:text-indigo-400",deactivated:"bg-yellow-100 text-yellow-600 dark:bg-yellow-900 dark:text-yellow-400",expired:"bg-red-100 text-red-600 dark:bg-red-900 dark:text-red-400"})[o]||"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400",M=o=>({verify:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",created:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",renewed:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-300",deactivated:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",expired:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"})[o]||"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300",C=o=>({verify:"text-blue-600 dark:text-blue-400",created:"text-green-600 dark:text-green-400",renewed:"text-indigo-600 dark:text-indigo-400",deactivated:"text-yellow-600 dark:text-yellow-400",expired:"text-red-600 dark:text-red-400"})[o]||"text-gray-600 dark:text-gray-400",j=o=>({verify:"Verificação",created:"Criação",renewed:"Renovação",deactivated:"Desativação",expired:"Expiração"})[o]||o;return(o,t)=>(a(),d(v,null,[f(c(L),{title:"Logs"}),f(H,null,{header:x(()=>t[3]||(t[3]=[e("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," Logs de Atividade ",-1)])),default:x(()=>[e("div",z,[e("div",F,[e("div",I,[e("div",S,[e("div",T,[e("div",null,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Buscar ",-1)),p(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>n.search=r),onInput:y,type:"text",placeholder:"Nome do cliente ou chave...",class:"block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300 rounded-md shadow-sm focus:border-primary-500 focus:ring-primary-500"},null,544),[[h,n.search]])]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Ação ",-1)),p(e("select",{"onUpdate:modelValue":t[1]||(t[1]=r=>n.action=r),onChange:y,class:"block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300 rounded-md shadow-sm focus:border-primary-500 focus:ring-primary-500"},t[5]||(t[5]=[e("option",{value:""},"Todas as Ações",-1),e("option",{value:"verify"},"Verificação",-1),e("option",{value:"created"},"Criação",-1),e("option",{value:"renewed"},"Renovação",-1),e("option",{value:"deactivated"},"Desativação",-1),e("option",{value:"expired"},"Expiração",-1)]),544),[[B,n.action]])]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Licença ",-1)),p(e("input",{"onUpdate:modelValue":t[2]||(t[2]=r=>n.license_id=r),onInput:y,type:"text",placeholder:"ID da licença...",class:"block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300 rounded-md shadow-sm focus:border-primary-500 focus:ring-primary-500"},null,544),[[h,n.license_id]])]),e("div",{class:"flex items-end"},[e("button",{onClick:w,class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"}," Limpar Filtros ")])])])]),e("div",E,[e("div",P,[e("table",R,[t[8]||(t[8]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Data/Hora "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Ação "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Cliente "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Chave de Acesso "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," IP "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Dispositivo ")])],-1)),e("tbody",U,[(a(!0),d(v,null,D(s.logs.data,r=>(a(),d("tr",{key:r.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",O,i(_(r.created_at)),1),e("td",q,[e("div",J,[e("div",{class:b([A(r.action),"inline-flex items-center justify-center h-8 w-8 rounded-full mr-3"])},[(a(),d("svg",{class:b([C(r.action),"h-4 w-4"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r.action==="verify"?(a(),d("path",K)):r.action==="created"?(a(),d("path",$)):r.action==="renewed"?(a(),d("path",G)):r.action==="deactivated"?(a(),d("path",Q)):r.action==="expired"?(a(),d("path",W)):(a(),d("path",X))],2))],2),e("span",{class:b([M(r.action),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},i(j(r.action)),3)])]),e("td",Y,[e("div",Z,i(r.license?.client_name||"N/A"),1),e("div",ee,i(r.license?.client_email||"N/A"),1)]),e("td",te,[e("code",re,i(r.license?.access_key||"N/A"),1)]),e("td",ae,i(r.ip_address),1),e("td",se,[r.device_id?(a(),d("div",de,i(r.device_id),1)):(a(),d("div",oe,"-")),r.user_agent?(a(),d("div",{key:2,class:"text-xs text-gray-400 dark:text-gray-500 max-w-xs truncate mt-1",title:r.user_agent},i(r.user_agent.substring(0,50))+"... ",9,ie)):g("",!0)])]))),128))])])]),s.logs.data.length===0?(a(),d("div",ne,t[9]||(t[9]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 48 48"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M34 40h10v-4a6 6 0 00-10.712-3.714M34 40H14m20 0v-4a9.971 9.971 0 00-.712-3.714M14 40H4v-4a6 6 0 0110.713-3.714M14 40v-4c0-1.313.253-2.566.713-3.714m0 0A10.003 10.003 0 0124 26c4.21 0 7.813 2.602 9.288 6.286"})],-1),e("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100"},"Nenhum log encontrado",-1),e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},"Não há logs de atividade com os filtros aplicados.",-1)]))):g("",!0),s.logs.data.length>0?(a(),d("div",le,[e("div",ge,[e("div",xe,[s.logs.prev_page_url?(a(),u(c(m),{key:0,href:s.logs.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:x(()=>t[10]||(t[10]=[l(" Anterior ",-1)])),_:1,__:[10]},8,["href"])):g("",!0),s.logs.next_page_url?(a(),u(c(m),{key:1,href:s.logs.next_page_url,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:x(()=>t[11]||(t[11]=[l(" Próximo ",-1)])),_:1,__:[11]},8,["href"])):g("",!0)]),e("div",ce,[e("div",null,[e("p",ye,[t[12]||(t[12]=l(" Mostrando ",-1)),e("span",ue,i(s.logs.from),1),t[13]||(t[13]=l(" até ",-1)),e("span",me,i(s.logs.to),1),t[14]||(t[14]=l(" de ",-1)),e("span",ke,i(s.logs.total),1),t[15]||(t[15]=l(" resultados ",-1))])]),e("div",null,[e("nav",pe,[s.logs.prev_page_url?(a(),u(c(m),{key:0,href:s.logs.prev_page_url,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm font-medium text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"},{default:x(()=>t[16]||(t[16]=[l(" Anterior ",-1)])),_:1,__:[16]},8,["href"])):g("",!0),s.logs.next_page_url?(a(),u(c(m),{key:1,href:s.logs.next_page_url,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm font-medium text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"},{default:x(()=>t[17]||(t[17]=[l(" Próximo ",-1)])),_:1,__:[17]},8,["href"])):g("",!0)])])])])])):g("",!0)])])])]),_:1})],64))}};export{he as default};
